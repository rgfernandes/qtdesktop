select * from table( contractor_tree.GetCategoryTree(:pid,:depth) )

возвращает дерево вида

Поставщики
   Поставщики Услуг
      Интернет
      Телефонии
  Поставщики Оборудования
     Телекоммуникационного
     Электропитания

в виде

<level> <id> <sid> <name>
1  1 SID1 Поставщики
2  2 SID2 Поставщики Услуг
3  3 SID3 Интернет
3  4 SID4 Телефонии
2  5 SID5 Поставщики Оборудования
3  6 SID6 Телекоммуникационного
3  7 SID8 Электропитания
